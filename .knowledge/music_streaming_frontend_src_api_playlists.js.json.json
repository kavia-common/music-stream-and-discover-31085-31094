{"is_source_file": true, "format": "JavaScript", "description": "This file provides functions for accessing and manipulating playlist data within a music streaming application's frontend. It includes support for mock data and real API calls, with functions to fetch playlists, fetch a playlist by ID, create a playlist, and add or remove tracks from a playlist.", "external_files": ["../utils/env", "./client", "./tracks", "./mock/fixtures.json"], "external_methods": ["getEnv", "get", "post", "put", "del", "fetchTracks"], "published": ["fetchPlaylists", "fetchPlaylistById", "createPlaylist", "addTrackToPlaylist", "removeTrackFromPlaylist"], "classes": [], "methods": [{"name": "ensureMockState()", "description": "Asynchronously loads mock playlist and track data into a local cache if not already loaded.", "scope": "", "scopeKind": ""}, {"name": "fetchPlaylists()", "description": "Retrieves a list of playlists, either from mock data or via a network API.", "scope": "", "scopeKind": ""}, {"name": "fetchPlaylistById(id)", "description": "Retrieves detailed information about a specific playlist by ID, including its tracks.", "scope": "", "scopeKind": ""}, {"name": "createPlaylist({ id, name })", "description": "Creates a new playlist, supporting both mock mode (in-memory update) and real API call.", "scope": "", "scopeKind": ""}, {"name": "addTrackToPlaylist({ playlistId, trackId })", "description": "Adds a track to a playlist, updating mock data or making a network request.", "scope": "", "scopeKind": ""}, {"name": "removeTrackFromPlaylist({ playlistId, trackId })", "description": "Removes a track from a playlist, updating mock data or making a network request.", "scope": "", "scopeKind": ""}], "calls": ["getEnv", "get", "post", "put", "del", "fetchTracks"], "search-terms": ["playlists", "mockState", "playlist", "trackIds", "API", "music streaming"], "state": 2, "file_id": 34, "knowledge_revision": 78, "git_revision": "", "ctags": [{"_type": "tag", "name": "addTrackToPlaylist", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^export async function addTrackToPlaylist({ playlistId, trackId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ playlistId, trackId })"}, {"_type": "tag", "name": "createPlaylist", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^export async function createPlaylist({ id, name }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id, name })"}, {"_type": "tag", "name": "ensureMockState", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^async function ensureMockState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchPlaylistById", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^export async function fetchPlaylistById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "fetchPlaylists", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^export async function fetchPlaylists() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^    const pl = { id: id || `p_${Date.now()}`, name: name || \"New Playlist\", trackIds: [] };$/", "language": "JavaScript", "kind": "property", "scope": "createPlaylist.pl", "scopeKind": "class"}, {"_type": "tag", "name": "mockState", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^    mockState = {$/", "language": "JavaScript", "kind": "class", "scope": "ensureMockState", "scopeKind": "class"}, {"_type": "tag", "name": "mockState", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^let mockState = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^    const pl = { id: id || `p_${Date.now()}`, name: name || \"New Playlist\", trackIds: [] };$/", "language": "JavaScript", "kind": "property", "scope": "createPlaylist.pl", "scopeKind": "class"}, {"_type": "tag", "name": "pl", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^    const pl = { id: id || `p_${Date.now()}`, name: name || \"New Playlist\", trackIds: [] };$/", "language": "JavaScript", "kind": "class", "scope": "createPlaylist", "scopeKind": "class"}, {"_type": "tag", "name": "playlists", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^      playlists: (data.playlists || []).map((p) => ({ ...p, trackIds: [...(p.trackIds || [])] })/", "language": "JavaScript", "kind": "property", "scope": "ensureMockState.mockState", "scopeKind": "class"}, {"_type": "tag", "name": "removeTrackFromPlaylist", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^export async function removeTrackFromPlaylist({ playlistId, trackId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ playlistId, trackId })"}, {"_type": "tag", "name": "trackIds", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^    const pl = { id: id || `p_${Date.now()}`, name: name || \"New Playlist\", trackIds: [] };$/", "language": "JavaScript", "kind": "property", "scope": "createPlaylist.pl", "scopeKind": "class"}, {"_type": "tag", "name": "tracks", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/playlists.js", "pattern": "/^      tracks: (data.tracks || []).slice(),$/", "language": "JavaScript", "kind": "property", "scope": "ensureMockState.mockState", "scopeKind": "class"}], "hash": "f603826dc054ced0a5eb7e76f590a5be", "format-version": 4, "code-base-name": "music_streaming_frontend", "filename": "music_streaming_frontend/src/api/playlists.js", "fields": [{"name": "const pl = { id: id || `p_${Date.now()}`, name: name || \"New Playlist\", trackIds: [] };", "scope": "createPlaylist.pl", "scopeKind": "class", "description": "unavailable"}, {"name": "let mockState = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "playlists: (data.playlists || []).map((p) => ({ ...p, trackIds: [...(p.trackIds || [])] })/", "scope": "ensureMockState.mockState", "scopeKind": "class", "description": "unavailable"}, {"name": "tracks: (data.tracks || []).slice(),", "scope": "ensureMockState.mockState", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"78": ""}]}