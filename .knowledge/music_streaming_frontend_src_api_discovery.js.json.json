{"is_source_file": true, "format": "JavaScript", "description": "This file defines the 'fetchDiscovery' function, which retrieves music discovery data such as trending tracks, new releases, and personalized recommendations. It includes logic for mock fallback data and interacts with external modules and APIs.", "external_files": ["../utils/env", "./client", "./tracks", "./mock/fixtures.json"], "external_methods": ["getEnv", "get", "fetchTracks"], "published": ["fetchDiscovery"], "classes": [], "methods": [{"name": "fetchDiscovery()", "description": "Fetches music discovery sections: trending tracks, new releases, and personalized recommendations, using mock data if specified, or real API calls otherwise.", "scope": "", "scopeKind": ""}], "calls": ["getEnv()", "import('./mock/fixtures.json')", "fetchTracks({ ids: ... })", "get('/discovery')"], "search-terms": ["discovery", "fetchDiscovery", "recommendation", "mock fallback", "tracks API", "discovery sections"], "state": 2, "file_id": 35, "knowledge_revision": 80, "git_revision": "", "ctags": [{"_type": "tag", "name": "fetchDiscovery", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/discovery.js", "pattern": "/^export async function fetchDiscovery() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "forYou", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/discovery.js", "pattern": "/^      forYou: data.discover?.forYou || [],$/", "language": "JavaScript", "kind": "property", "scope": "fetchDiscovery.ids", "scopeKind": "class"}, {"_type": "tag", "name": "ids", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/discovery.js", "pattern": "/^    const ids = {$/", "language": "JavaScript", "kind": "class", "scope": "fetchDiscovery", "scopeKind": "class"}, {"_type": "tag", "name": "newReleases", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/discovery.js", "pattern": "/^      newReleases: data.discover?.newReleases || [],$/", "language": "JavaScript", "kind": "property", "scope": "fetchDiscovery.ids", "scopeKind": "class"}, {"_type": "tag", "name": "trending", "path": "/home/kavia/workspace/code-generation/music-stream-and-discover-31085-31094/music_streaming_frontend/src/api/discovery.js", "pattern": "/^      trending: data.discover?.trending || [],$/", "language": "JavaScript", "kind": "property", "scope": "fetchDiscovery.ids", "scopeKind": "class"}], "hash": "6bfdea1ee097cffbe919e80b62edaf16", "format-version": 4, "code-base-name": "music_streaming_frontend", "filename": "music_streaming_frontend/src/api/discovery.js", "fields": [{"name": "forYou: data.discover?.forYou || [],", "scope": "fetchDiscovery.ids", "scopeKind": "class", "description": "unavailable"}, {"name": "newReleases: data.discover?.newReleases || [],", "scope": "fetchDiscovery.ids", "scopeKind": "class", "description": "unavailable"}, {"name": "trending: data.discover?.trending || [],", "scope": "fetchDiscovery.ids", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"80": ""}]}